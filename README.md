> Archive notes: for some weird reason I used to be obsessed with the concept of a simple monolithic configuration driven schedular to run various tasks üòµ‚Äçüí´. I did actually use a more fleshed out version of this in production to run various scrapers at a previous job. But shortly after, I learned Kubernetes and you can imagine what happened next.

# Mr. Task Scheduler
A simple configurable cron-like task scheduler written in Node. Take the guesswork out of having to manually edit crontab everytime you need to schedule a new task. See what the response and execution time of each task was. Execute callbacks when a task succeeds/fails. No coding required to implement/change task schedule. This is version 0.0.1 and highly experimental at the moment.

#### Install:
`npm install`

Developed on Node 8.1.4 but likely usable on 6.x.x.


#### Setting up tasks:
Task definitions go in `/todo/tasks.json`. A watcher on this directory looks for any changes to the file and when they're detected, will automatically update without any intervation. A minimum task looks like the following:
```    
{
    "name" : "Test cron style task",
    "exec" : "",
    "interval" : "* * * * *",
    "onSuccess" : "",
    "onFail" : ""
}
 ```
 
`interval` can be a string with cron style syntax or it can use the object literal syntax that node-schedule supports: https://github.com/node-schedule/node-schedule#recurrencerule-properties

`exec` is the primary program to run, `onSuccess` and `onFailure` are both executed respectively after the initial task completes. A "failure" is considered to be a.) problem with actual exection of the task (bad command line syntax, etc..) b.) the program executes but stderr stream is detected (theres a syntax error in the program itself or it crashes)


#### Tasks:
Are executed by `execFile()` and can be anything that is able to be executed on the command line.


#### Logs:
* output.json - the log of every single task executed
* log.txt - timestamped logs generated by Mr. Task Scheduler, mostly for debugging


#### Todo:
 * Clean up and modularize code
 * Add unit tests
 * Possible way to test if task fires? Been burned on setting up cron before only to find out it never worked.
 * Add ability to do a one-time schedule (will need to parse `interval`)
 * Investigate running tasks in containers
 * Investigate batching tasks
 * Build a front end gui
 * Switch logging(and maybe task list?) to an actual database like mongo
 * Investigate fault tolerance options. Heartbeat server?
